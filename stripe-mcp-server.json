{
  "name": "stripe-mcp-server",
  "version": "1.0.0",
  "description": "Model Context Protocol server for Stripe API operations",
  "tools": [
    {
      "name": "get_stripe_account_info",
      "description": "Retrieves the details of the Stripe account",
      "inputSchema": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "retrieve_balance",
      "description": "Retrieves the current account balance based on the authentication used",
      "inputSchema": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "create_coupon",
      "description": "Creates a new coupon object that can be used for discounts",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique string of your choice for the coupon ID"
          },
          "duration": {
            "type": "string",
            "enum": ["forever", "once", "repeating"],
            "description": "Specifies how long the discount will be in effect"
          },
          "amount_off": {
            "type": "integer",
            "description": "Amount (in cents) to be taken off the subtotal"
          },
          "percent_off": {
            "type": "number",
            "description": "Percent that will be taken off the subtotal"
          },
          "currency": {
            "type": "string",
            "description": "Three-letter ISO currency code (required if amount_off is provided)"
          },
          "duration_in_months": {
            "type": "integer",
            "description": "Required only if duration is 'repeating'"
          },
          "max_redemptions": {
            "type": "integer",
            "description": "Maximum number of times this coupon can be redeemed"
          },
          "name": {
            "type": "string",
            "description": "Name of the coupon displayed to customers"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          }
        },
        "required": ["duration"]
      }
    },
    {
      "name": "list_coupons",
      "description": "Returns a list of your coupons",
      "inputSchema": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "created": {
            "type": "object",
            "description": "Filter by creation timestamp"
          }
        },
        "required": []
      }
    },
    {
      "name": "create_customer",
      "description": "Creates a new customer object",
      "inputSchema": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Customer's email address"
          },
          "name": {
            "type": "string",
            "description": "Customer's full name or business name"
          },
          "description": {
            "type": "string",
            "description": "An arbitrary string to attach to the customer"
          },
          "phone": {
            "type": "string",
            "description": "Customer's phone number"
          },
          "address": {
            "type": "object",
            "description": "Customer's address",
            "properties": {
              "line1": {"type": "string"},
              "line2": {"type": "string"},
              "city": {"type": "string"},
              "state": {"type": "string"},
              "postal_code": {"type": "string"},
              "country": {"type": "string"}
            }
          },
          "payment_method": {
            "type": "string",
            "description": "PaymentMethod ID to attach to the customer"
          },
          "invoice_settings": {
            "type": "object",
            "description": "Invoice settings for the customer"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          },
          "shipping": {
            "type": "object",
            "description": "Customer's shipping information"
          },
          "tax": {
            "type": "object",
            "description": "Tax information about the customer"
          }
        },
        "required": []
      }
    },
    {
      "name": "list_customers",
      "description": "Returns a list of your customers",
      "inputSchema": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Filter by customer email"
          },
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "created": {
            "type": "object",
            "description": "Filter by creation timestamp"
          }
        },
        "required": []
      }
    },
    {
      "name": "list_disputes",
      "description": "Returns a list of your disputes",
      "inputSchema": {
        "type": "object",
        "properties": {
          "charge": {
            "type": "string",
            "description": "Filter by charge ID"
          },
          "payment_intent": {
            "type": "string",
            "description": "Filter by PaymentIntent ID"
          },
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "created": {
            "type": "object",
            "description": "Filter by creation timestamp"
          }
        },
        "required": []
      }
    },
    {
      "name": "update_dispute",
      "description": "Updates the specified dispute by setting the values of the parameters passed",
      "inputSchema": {
        "type": "object",
        "properties": {
          "dispute_id": {
            "type": "string",
            "description": "The ID of the dispute to update"
          },
          "evidence": {
            "type": "object",
            "description": "Evidence to respond to the dispute",
            "properties": {
              "customer_name": {"type": "string"},
              "customer_email_address": {"type": "string"},
              "customer_purchase_ip": {"type": "string"},
              "billing_address": {"type": "string"},
              "receipt": {"type": "string"},
              "customer_signature": {"type": "string"},
              "shipping_documentation": {"type": "string"},
              "uncategorized_text": {"type": "string"}
            }
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          },
          "submit": {
            "type": "boolean",
            "description": "Whether to immediately submit evidence to the bank"
          }
        },
        "required": ["dispute_id"]
      }
    },
    {
      "name": "create_invoice",
      "description": "Creates a draft invoice for a given customer",
      "inputSchema": {
        "type": "object",
        "properties": {
          "customer": {
            "type": "string",
            "description": "The ID of the customer to invoice"
          },
          "auto_advance": {
            "type": "boolean",
            "description": "Automatically finalize and attempt to pay the invoice"
          },
          "collection_method": {
            "type": "string",
            "enum": ["charge_automatically", "send_invoice"],
            "description": "How the invoice should be collected"
          },
          "description": {
            "type": "string",
            "description": "An arbitrary string attached to the invoice"
          },
          "due_date": {
            "type": "integer",
            "description": "The date on which payment for this invoice is due (timestamp)"
          },
          "currency": {
            "type": "string",
            "description": "Three-letter ISO currency code"
          },
          "days_until_due": {
            "type": "integer",
            "description": "Number of days until invoice is due"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          },
          "subscription": {
            "type": "string",
            "description": "The subscription to invoice"
          }
        },
        "required": ["customer"]
      }
    },
    {
      "name": "create_invoice_item",
      "description": "Creates an item to be added to a draft invoice or charged immediately",
      "inputSchema": {
        "type": "object",
        "properties": {
          "customer": {
            "type": "string",
            "description": "The ID of the customer to be billed"
          },
          "amount": {
            "type": "integer",
            "description": "The integer amount in cents of the charge"
          },
          "currency": {
            "type": "string",
            "description": "Three-letter ISO currency code"
          },
          "description": {
            "type": "string",
            "description": "An arbitrary string attached to the object"
          },
          "invoice": {
            "type": "string",
            "description": "The ID of an existing invoice to add this invoice item to"
          },
          "price": {
            "type": "string",
            "description": "The ID of the price object"
          },
          "quantity": {
            "type": "integer",
            "description": "Quantity of the item"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          },
          "subscription": {
            "type": "string",
            "description": "The ID of a subscription to add this invoice item to"
          }
        },
        "required": ["customer", "currency"]
      }
    },
    {
      "name": "finalize_invoice",
      "description": "Finalizes a draft invoice, making it ready for payment",
      "inputSchema": {
        "type": "object",
        "properties": {
          "invoice_id": {
            "type": "string",
            "description": "The ID of the invoice to finalize"
          },
          "auto_advance": {
            "type": "boolean",
            "description": "Whether to automatically advance to the next billing period"
          }
        },
        "required": ["invoice_id"]
      }
    },
    {
      "name": "list_invoices",
      "description": "Returns a list of your invoices",
      "inputSchema": {
        "type": "object",
        "properties": {
          "customer": {
            "type": "string",
            "description": "Filter by customer ID"
          },
          "subscription": {
            "type": "string",
            "description": "Filter by subscription ID"
          },
          "status": {
            "type": "string",
            "enum": ["draft", "open", "paid", "uncollectible", "void"],
            "description": "Filter by invoice status"
          },
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "created": {
            "type": "object",
            "description": "Filter by creation timestamp"
          }
        },
        "required": []
      }
    },
    {
      "name": "create_payment_link",
      "description": "Creates a payment link that can be shared with customers",
      "inputSchema": {
        "type": "object",
        "properties": {
          "line_items": {
            "type": "array",
            "description": "The line items for this payment link",
            "items": {
              "type": "object",
              "properties": {
                "price": {"type": "string"},
                "quantity": {"type": "integer"}
              },
              "required": ["price", "quantity"]
            }
          },
          "after_completion": {
            "type": "object",
            "description": "Behavior after the purchase is complete"
          },
          "allow_promotion_codes": {
            "type": "boolean",
            "description": "Whether to enable promotion codes"
          },
          "application_fee_amount": {
            "type": "integer",
            "description": "Application fee amount for connected accounts"
          },
          "application_fee_percent": {
            "type": "number",
            "description": "Application fee percent for connected accounts"
          },
          "automatic_tax": {
            "type": "object",
            "description": "Automatic tax calculation settings"
          },
          "billing_address_collection": {
            "type": "string",
            "enum": ["auto", "required"],
            "description": "Billing address collection mode"
          },
          "currency": {
            "type": "string",
            "description": "Three-letter ISO currency code"
          },
          "customer_creation": {
            "type": "string",
            "enum": ["always", "if_required"],
            "description": "Customer creation mode"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          },
          "payment_method_types": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Payment method types to accept"
          },
          "phone_number_collection": {
            "type": "object",
            "description": "Phone number collection settings"
          },
          "shipping_address_collection": {
            "type": "object",
            "description": "Shipping address collection settings"
          },
          "submit_type": {
            "type": "string",
            "enum": ["auto", "book", "donate", "pay"],
            "description": "Type of the submit button"
          }
        },
        "required": ["line_items"]
      }
    },
    {
      "name": "list_payment_intents",
      "description": "Returns a list of PaymentIntents",
      "inputSchema": {
        "type": "object",
        "properties": {
          "customer": {
            "type": "string",
            "description": "Filter by customer ID"
          },
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "created": {
            "type": "object",
            "description": "Filter by creation timestamp"
          }
        },
        "required": []
      }
    },
    {
      "name": "create_price",
      "description": "Creates a new price for an existing product",
      "inputSchema": {
        "type": "object",
        "properties": {
          "product": {
            "type": "string",
            "description": "The ID of the product this price will belong to"
          },
          "currency": {
            "type": "string",
            "description": "Three-letter ISO currency code"
          },
          "unit_amount": {
            "type": "integer",
            "description": "Price in cents"
          },
          "unit_amount_decimal": {
            "type": "string",
            "description": "Price as a decimal string"
          },
          "active": {
            "type": "boolean",
            "description": "Whether the price can be used for new purchases"
          },
          "billing_scheme": {
            "type": "string",
            "enum": ["per_unit", "tiered"],
            "description": "How to compute the price per period"
          },
          "currency_options": {
            "type": "object",
            "description": "Prices defined in each available currency"
          },
          "custom_unit_amount": {
            "type": "object",
            "description": "Customer provided unit amount settings"
          },
          "lookup_key": {
            "type": "string",
            "description": "A lookup key used to retrieve prices dynamically"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          },
          "nickname": {
            "type": "string",
            "description": "A brief description of the price"
          },
          "product_data": {
            "type": "object",
            "description": "Data used to create a new product if product is not provided"
          },
          "recurring": {
            "type": "object",
            "description": "Recurring billing settings",
            "properties": {
              "interval": {
                "type": "string",
                "enum": ["day", "week", "month", "year"]
              },
              "interval_count": {"type": "integer"},
              "usage_type": {
                "type": "string",
                "enum": ["metered", "licensed"]
              }
            }
          },
          "tax_behavior": {
            "type": "string",
            "enum": ["exclusive", "inclusive", "unspecified"],
            "description": "Tax calculation behavior"
          },
          "tiers": {
            "type": "array",
            "description": "Pricing tiers for graduated or volume billing"
          },
          "tiers_mode": {
            "type": "string",
            "enum": ["graduated", "volume"],
            "description": "Tiered pricing mode"
          },
          "transfer_lookup_key": {
            "type": "boolean",
            "description": "Apply lookup_key to associated product"
          }
        },
        "required": ["currency"]
      }
    },
    {
      "name": "list_prices",
      "description": "Returns a list of your active prices",
      "inputSchema": {
        "type": "object",
        "properties": {
          "product": {
            "type": "string",
            "description": "Filter by product ID"
          },
          "active": {
            "type": "boolean",
            "description": "Filter by active status"
          },
          "currency": {
            "type": "string",
            "description": "Filter by currency"
          },
          "type": {
            "type": "string",
            "enum": ["one_time", "recurring"],
            "description": "Filter by price type"
          },
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "created": {
            "type": "object",
            "description": "Filter by creation timestamp"
          }
        },
        "required": []
      }
    },
    {
      "name": "create_product",
      "description": "Creates a new product object",
      "inputSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The product's name"
          },
          "active": {
            "type": "boolean",
            "description": "Whether the product is available for purchase"
          },
          "description": {
            "type": "string",
            "description": "Product description"
          },
          "default_price_data": {
            "type": "object",
            "description": "Data to generate a default price"
          },
          "features": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {"type": "string"}
              }
            },
            "description": "List of product features"
          },
          "images": {
            "type": "array",
            "items": {"type": "string"},
            "description": "List of image URLs"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          },
          "package_dimensions": {
            "type": "object",
            "description": "Package dimensions for shipping",
            "properties": {
              "height": {"type": "number"},
              "length": {"type": "number"},
              "weight": {"type": "number"},
              "width": {"type": "number"}
            }
          },
          "shippable": {
            "type": "boolean",
            "description": "Whether this product is shipped"
          },
          "statement_descriptor": {
            "type": "string",
            "description": "Statement descriptor for card statements"
          },
          "tax_code": {
            "type": "string",
            "description": "Tax code for the product"
          },
          "unit_label": {
            "type": "string",
            "description": "Unit label for the product"
          },
          "url": {
            "type": "string",
            "description": "URL to the product on your website"
          }
        },
        "required": ["name"]
      }
    },
    {
      "name": "list_products",
      "description": "Returns a list of your products",
      "inputSchema": {
        "type": "object",
        "properties": {
          "active": {
            "type": "boolean",
            "description": "Filter by active status"
          },
          "ids": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Filter by product IDs"
          },
          "shippable": {
            "type": "boolean",
            "description": "Filter by shippable status"
          },
          "url": {
            "type": "string",
            "description": "Filter by URL"
          },
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "created": {
            "type": "object",
            "description": "Filter by creation timestamp"
          }
        },
        "required": []
      }
    },
    {
      "name": "create_refund",
      "description": "Creates a refund for a charge that has been previously created",
      "inputSchema": {
        "type": "object",
        "properties": {
          "charge": {
            "type": "string",
            "description": "The ID of the charge to refund"
          },
          "payment_intent": {
            "type": "string",
            "description": "The ID of the payment intent to refund"
          },
          "amount": {
            "type": "integer",
            "description": "Amount to refund in cents (if omitted, entire charge is refunded)"
          },
          "reason": {
            "type": "string",
            "enum": ["duplicate", "fraudulent", "requested_by_customer"],
            "description": "Reason for the refund"
          },
          "refund_application_fee": {
            "type": "boolean",
            "description": "Whether to refund the application fee"
          },
          "reverse_transfer": {
            "type": "boolean",
            "description": "Whether to reverse the transfer"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          }
        },
        "required": []
      }
    },
    {
      "name": "cancel_subscription",
      "description": "Cancels a customer's subscription immediately or at the end of the period",
      "inputSchema": {
        "type": "object",
        "properties": {
          "subscription_id": {
            "type": "string",
            "description": "The ID of the subscription to cancel"
          },
          "invoice_now": {
            "type": "boolean",
            "description": "Create an invoice for unpaid prorated charges"
          },
          "prorate": {
            "type": "boolean",
            "description": "Create prorations when canceling"
          },
          "cancellation_details": {
            "type": "object",
            "description": "Details about why the subscription was cancelled",
            "properties": {
              "comment": {"type": "string"},
              "feedback": {"type": "string"}
            }
          }
        },
        "required": ["subscription_id"]
      }
    },
    {
      "name": "list_subscriptions",
      "description": "Returns a list of your subscriptions",
      "inputSchema": {
        "type": "object",
        "properties": {
          "customer": {
            "type": "string",
            "description": "Filter by customer ID"
          },
          "price": {
            "type": "string",
            "description": "Filter by price ID"
          },
          "status": {
            "type": "string",
            "enum": ["active", "past_due", "unpaid", "canceled", "incomplete", "incomplete_expired", "trialing", "all", "ended"],
            "description": "Filter by subscription status"
          },
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination"
          },
          "created": {
            "type": "object",
            "description": "Filter by creation timestamp"
          }
        },
        "required": []
      }
    },
    {
      "name": "update_subscription",
      "description": "Updates an existing subscription",
      "inputSchema": {
        "type": "object",
        "properties": {
          "subscription_id": {
            "type": "string",
            "description": "The ID of the subscription to update"
          },
          "cancel_at_period_end": {
            "type": "boolean",
            "description": "Cancel the subscription at the end of the period"
          },
          "default_payment_method": {
            "type": "string",
            "description": "ID of the payment method to use"
          },
          "items": {
            "type": "array",
            "description": "List of subscription items to update",
            "items": {
              "type": "object",
              "properties": {
                "id": {"type": "string"},
                "price": {"type": "string"},
                "quantity": {"type": "integer"}
              }
            }
          },
          "proration_behavior": {
            "type": "string",
            "enum": ["create_prorations", "none", "always_invoice"],
            "description": "How to handle proration"
          },
          "proration_date": {
            "type": "integer",
            "description": "Timestamp for prorating changes"
          },
          "metadata": {
            "type": "object",
            "description": "Set of key-value pairs for storing additional information"
          },
          "payment_behavior": {
            "type": "string",
            "enum": ["allow_incomplete", "default_incomplete", "error_if_incomplete", "pending_if_incomplete"],
            "description": "Payment behavior"
          },
          "billing_cycle_anchor": {
            "type": "string",
            "enum": ["now", "unchanged"],
            "description": "When to reset the billing cycle"
          },
          "trial_end": {
            "type": "string",
            "description": "Trial end timestamp or 'now' to end immediately"
          }
        },
        "required": ["subscription_id"]
      }
    },
    {
      "name": "search_stripe_resources",
      "description": "Searches across multiple Stripe resource types using a query string",
      "inputSchema": {
        "type": "object",
        "properties": {
          "resource_type": {
            "type": "string",
            "enum": ["charges", "customers", "invoices", "payment_intents", "prices", "products", "subscriptions"],
            "description": "The type of resource to search"
          },
          "query": {
            "type": "string",
            "description": "The search query string (supports field:value syntax)"
          },
          "limit": {
            "type": "integer",
            "description": "A limit on the number of objects to be returned (1-100)",
            "minimum": 1,
            "maximum": 100
          },
          "page": {
            "type": "string",
            "description": "Pagination token"
          }
        },
        "required": ["resource_type", "query"]
      }
    },
    {
      "name": "fetch_stripe_resources",
      "description": "Fetches a specific Stripe object by ID",
      "inputSchema": {
        "type": "object",
        "properties": {
          "resource_type": {
            "type": "string",
            "enum": ["charges", "customers", "invoices", "payment_intents", "prices", "products", "subscriptions", "payment_methods", "refunds", "disputes", "coupons", "balances", "accounts"],
            "description": "The type of resource to fetch"
          },
          "resource_id": {
            "type": "string",
            "description": "The ID of the resource to retrieve"
          }
        },
        "required": ["resource_type", "resource_id"]
      }
    },
    {
      "name": "search_stripe_documentation",
      "description": "Searches Stripe's knowledge base and documentation",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "The search query for documentation"
          },
          "category": {
            "type": "string",
            "enum": ["api", "guides", "webhooks", "integrations", "all"],
            "description": "Category of documentation to search"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of results to return",
            "minimum": 1,
            "maximum": 50
          }
        },
        "required": ["query"]
      }
    }
  ]
}
