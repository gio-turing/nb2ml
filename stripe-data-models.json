{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Stripe MCP Data Models",
  "description": "Complete data models for Stripe API resources and operations",
  "definitions": {
    "common": {
      "Metadata": {
        "type": "object",
        "description": "Set of key-value pairs that you can attach to an object",
        "additionalProperties": {
          "type": "string"
        }
      },
      "Timestamp": {
        "type": "integer",
        "description": "Unix timestamp in seconds"
      },
      "Currency": {
        "type": "string",
        "pattern": "^[a-z]{3}$",
        "description": "Three-letter ISO currency code (lowercase)"
      },
      "Address": {
        "type": "object",
        "properties": {
          "line1": {
            "type": ["string", "null"],
            "description": "Address line 1 (e.g., street, PO Box)"
          },
          "line2": {
            "type": ["string", "null"],
            "description": "Address line 2 (e.g., apartment, suite)"
          },
          "city": {
            "type": ["string", "null"],
            "description": "City, district, suburb, town, or village"
          },
          "state": {
            "type": ["string", "null"],
            "description": "State, county, province, or region"
          },
          "postal_code": {
            "type": ["string", "null"],
            "description": "ZIP or postal code"
          },
          "country": {
            "type": ["string", "null"],
            "description": "Two-letter country code (ISO 3166-1 alpha-2)"
          }
        }
      },
      "DateRangeFilter": {
        "type": "object",
        "properties": {
          "gt": {
            "type": "integer",
            "description": "Greater than"
          },
          "gte": {
            "type": "integer",
            "description": "Greater than or equal to"
          },
          "lt": {
            "type": "integer",
            "description": "Less than"
          },
          "lte": {
            "type": "integer",
            "description": "Less than or equal to"
          }
        }
      },
      "PaginationParams": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer",
            "minimum": 1,
            "maximum": 100,
            "default": 10,
            "description": "Number of objects to return"
          },
          "starting_after": {
            "type": "string",
            "description": "Cursor for pagination (object ID)"
          },
          "ending_before": {
            "type": "string",
            "description": "Cursor for pagination (object ID)"
          }
        }
      },
      "ListResponse": {
        "type": "object",
        "properties": {
          "object": {
            "type": "string",
            "enum": ["list"]
          },
          "data": {
            "type": "array",
            "description": "Array of objects"
          },
          "has_more": {
            "type": "boolean",
            "description": "Whether there are more items available"
          },
          "url": {
            "type": "string",
            "description": "API endpoint URL"
          }
        },
        "required": ["object", "data", "has_more", "url"]
      }
    },
    "account": {
      "Account": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the account"
          },
          "object": {
            "type": "string",
            "enum": ["account"]
          },
          "business_profile": {
            "type": ["object", "null"],
            "properties": {
              "mcc": {"type": ["string", "null"]},
              "name": {"type": ["string", "null"]},
              "product_description": {"type": ["string", "null"]},
              "support_address": {"$ref": "#/definitions/common/Address"},
              "support_email": {"type": ["string", "null"]},
              "support_phone": {"type": ["string", "null"]},
              "support_url": {"type": ["string", "null"]},
              "url": {"type": ["string", "null"]}
            }
          },
          "business_type": {
            "type": ["string", "null"],
            "enum": ["company", "government_entity", "individual", "non_profit", null]
          },
          "capabilities": {
            "type": "object",
            "description": "Payment and payout capabilities"
          },
          "charges_enabled": {
            "type": "boolean",
            "description": "Whether the account can create live charges"
          },
          "country": {
            "type": "string",
            "description": "The account's country"
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "default_currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "details_submitted": {
            "type": "boolean",
            "description": "Whether account details have been submitted"
          },
          "email": {
            "type": ["string", "null"],
            "description": "Email address of the account"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "payouts_enabled": {
            "type": "boolean",
            "description": "Whether the account can create payouts"
          },
          "settings": {
            "type": "object",
            "description": "Account settings and preferences"
          },
          "type": {
            "type": "string",
            "enum": ["standard", "express", "custom"],
            "description": "The Stripe account type"
          }
        },
        "required": ["id", "object", "charges_enabled", "country", "created", "default_currency", "payouts_enabled", "type"]
      }
    },
    "balance": {
      "Balance": {
        "type": "object",
        "properties": {
          "object": {
            "type": "string",
            "enum": ["balance"]
          },
          "available": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/balance/BalanceAmount"
            },
            "description": "Funds available for payout"
          },
          "connect_reserved": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/balance/BalanceAmount"
            },
            "description": "Funds held for Connect accounts"
          },
          "instant_available": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/balance/BalanceAmount"
            },
            "description": "Funds available for instant payout"
          },
          "issuing": {
            "type": "object",
            "properties": {
              "available": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/balance/BalanceAmount"
                }
              }
            }
          },
          "livemode": {
            "type": "boolean"
          },
          "pending": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/balance/BalanceAmount"
            },
            "description": "Funds not yet available"
          }
        },
        "required": ["object", "available", "livemode", "pending"]
      },
      "BalanceAmount": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "integer",
            "description": "Balance amount in smallest currency unit"
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "source_types": {
            "type": "object",
            "properties": {
              "card": {"type": "integer"},
              "bank_account": {"type": "integer"},
              "fpx": {"type": "integer"}
            }
          }
        },
        "required": ["amount", "currency"]
      }
    },
    "coupon": {
      "Coupon": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the coupon"
          },
          "object": {
            "type": "string",
            "enum": ["coupon"]
          },
          "amount_off": {
            "type": ["integer", "null"],
            "description": "Amount in cents to subtract from invoice total"
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "currency": {
            "oneOf": [
              {"$ref": "#/definitions/common/Currency"},
              {"type": "null"}
            ]
          },
          "duration": {
            "type": "string",
            "enum": ["forever", "once", "repeating"],
            "description": "Duration of the coupon"
          },
          "duration_in_months": {
            "type": ["integer", "null"],
            "description": "Number of months if duration is repeating"
          },
          "livemode": {
            "type": "boolean"
          },
          "max_redemptions": {
            "type": ["integer", "null"],
            "description": "Maximum number of times the coupon can be redeemed"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "name": {
            "type": ["string", "null"],
            "description": "Name of the coupon"
          },
          "percent_off": {
            "type": ["number", "null"],
            "description": "Percent off discount"
          },
          "redeem_by": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ],
            "description": "Date after which coupon can no longer be redeemed"
          },
          "times_redeemed": {
            "type": "integer",
            "description": "Number of times the coupon has been redeemed"
          },
          "valid": {
            "type": "boolean",
            "description": "Whether the coupon is currently valid"
          }
        },
        "required": ["id", "object", "created", "duration", "livemode", "times_redeemed", "valid"]
      }
    },
    "customer": {
      "Customer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the customer"
          },
          "object": {
            "type": "string",
            "enum": ["customer"]
          },
          "address": {
            "oneOf": [
              {"$ref": "#/definitions/common/Address"},
              {"type": "null"}
            ]
          },
          "balance": {
            "type": "integer",
            "description": "Current balance in cents"
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "currency": {
            "oneOf": [
              {"$ref": "#/definitions/common/Currency"},
              {"type": "null"}
            ]
          },
          "default_source": {
            "type": ["string", "null"],
            "description": "ID of default payment source"
          },
          "delinquent": {
            "type": "boolean",
            "description": "Whether customer has outstanding unpaid invoices"
          },
          "description": {
            "type": ["string", "null"],
            "description": "Description of the customer"
          },
          "discount": {
            "oneOf": [
              {"$ref": "#/definitions/customer/Discount"},
              {"type": "null"}
            ]
          },
          "email": {
            "type": ["string", "null"],
            "description": "Customer's email address"
          },
          "invoice_prefix": {
            "type": ["string", "null"],
            "description": "Prefix for invoice numbers"
          },
          "invoice_settings": {
            "type": "object",
            "properties": {
              "custom_fields": {"type": ["array", "null"]},
              "default_payment_method": {"type": ["string", "null"]},
              "footer": {"type": ["string", "null"]},
              "rendering_options": {"type": ["object", "null"]}
            }
          },
          "livemode": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "name": {
            "type": ["string", "null"],
            "description": "Customer's full name"
          },
          "phone": {
            "type": ["string", "null"],
            "description": "Customer's phone number"
          },
          "preferred_locales": {
            "type": ["array", "null"],
            "items": {"type": "string"},
            "description": "Customer's preferred languages"
          },
          "shipping": {
            "oneOf": [
              {"$ref": "#/definitions/customer/ShippingDetails"},
              {"type": "null"}
            ]
          },
          "tax": {
            "type": ["object", "null"],
            "properties": {
              "automatic_tax": {"type": "string"},
              "ip_address": {"type": ["string", "null"]},
              "location": {"type": ["object", "null"]}
            }
          },
          "tax_exempt": {
            "type": "string",
            "enum": ["none", "exempt", "reverse"]
          },
          "tax_ids": {
            "type": "object",
            "description": "List of tax IDs"
          },
          "test_clock": {
            "type": ["string", "null"]
          }
        },
        "required": ["id", "object", "created", "livemode"]
      },
      "Discount": {
        "type": "object",
        "properties": {
          "object": {
            "type": "string",
            "enum": ["discount"]
          },
          "checkout_session": {
            "type": ["string", "null"]
          },
          "coupon": {
            "$ref": "#/definitions/coupon/Coupon"
          },
          "customer": {
            "type": ["string", "null"]
          },
          "end": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "invoice": {
            "type": ["string", "null"]
          },
          "invoice_item": {
            "type": ["string", "null"]
          },
          "promotion_code": {
            "type": ["string", "null"]
          },
          "start": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "subscription": {
            "type": ["string", "null"]
          }
        },
        "required": ["object", "coupon", "start"]
      },
      "ShippingDetails": {
        "type": "object",
        "properties": {
          "address": {
            "$ref": "#/definitions/common/Address"
          },
          "carrier": {
            "type": ["string", "null"]
          },
          "name": {
            "type": "string"
          },
          "phone": {
            "type": ["string", "null"]
          },
          "tracking_number": {
            "type": ["string", "null"]
          }
        },
        "required": ["name"]
      }
    },
    "dispute": {
      "Dispute": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the dispute"
          },
          "object": {
            "type": "string",
            "enum": ["dispute"]
          },
          "amount": {
            "type": "integer",
            "description": "Disputed amount in cents"
          },
          "balance_transactions": {
            "type": "array",
            "description": "Balance transaction adjustments"
          },
          "charge": {
            "type": "string",
            "description": "ID of the charge being disputed"
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "evidence": {
            "$ref": "#/definitions/dispute/DisputeEvidence"
          },
          "evidence_details": {
            "type": "object",
            "properties": {
              "due_by": {
                "oneOf": [
                  {"$ref": "#/definitions/common/Timestamp"},
                  {"type": "null"}
                ]
              },
              "has_evidence": {"type": "boolean"},
              "past_due": {"type": "boolean"},
              "submission_count": {"type": "integer"}
            }
          },
          "is_charge_refundable": {
            "type": "boolean",
            "description": "Whether the charge can be refunded"
          },
          "livemode": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "network_reason_code": {
            "type": ["string", "null"],
            "description": "Network-specific reason code"
          },
          "payment_intent": {
            "type": ["string", "null"],
            "description": "ID of the PaymentIntent"
          },
          "reason": {
            "type": "string",
            "enum": ["bank_cannot_process", "check_returned", "credit_not_processed", "customer_initiated", "debit_not_authorized", "duplicate", "fraudulent", "general", "incorrect_account_details", "insufficient_funds", "product_not_received", "product_unacceptable", "subscription_canceled", "unrecognized"],
            "description": "Reason for the dispute"
          },
          "status": {
            "type": "string",
            "enum": ["warning_needs_response", "warning_under_review", "warning_closed", "needs_response", "under_review", "charge_refunded", "won", "lost"],
            "description": "Current status of the dispute"
          }
        },
        "required": ["id", "object", "amount", "charge", "created", "currency", "evidence", "evidence_details", "is_charge_refundable", "livemode", "reason", "status"]
      },
      "DisputeEvidence": {
        "type": "object",
        "properties": {
          "access_activity_log": {"type": ["string", "null"]},
          "billing_address": {"type": ["string", "null"]},
          "cancellation_policy": {"type": ["string", "null"]},
          "cancellation_policy_disclosure": {"type": ["string", "null"]},
          "cancellation_rebuttal": {"type": ["string", "null"]},
          "customer_communication": {"type": ["string", "null"]},
          "customer_email_address": {"type": ["string", "null"]},
          "customer_name": {"type": ["string", "null"]},
          "customer_purchase_ip": {"type": ["string", "null"]},
          "customer_signature": {"type": ["string", "null"]},
          "duplicate_charge_documentation": {"type": ["string", "null"]},
          "duplicate_charge_explanation": {"type": ["string", "null"]},
          "duplicate_charge_id": {"type": ["string", "null"]},
          "product_description": {"type": ["string", "null"]},
          "receipt": {"type": ["string", "null"]},
          "refund_policy": {"type": ["string", "null"]},
          "refund_policy_disclosure": {"type": ["string", "null"]},
          "refund_refusal_explanation": {"type": ["string", "null"]},
          "service_date": {"type": ["string", "null"]},
          "service_documentation": {"type": ["string", "null"]},
          "shipping_address": {"type": ["string", "null"]},
          "shipping_carrier": {"type": ["string", "null"]},
          "shipping_date": {"type": ["string", "null"]},
          "shipping_documentation": {"type": ["string", "null"]},
          "shipping_tracking_number": {"type": ["string", "null"]},
          "uncategorized_file": {"type": ["string", "null"]},
          "uncategorized_text": {"type": ["string", "null"]}
        }
      }
    },
    "invoice": {
      "Invoice": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the invoice"
          },
          "object": {
            "type": "string",
            "enum": ["invoice"]
          },
          "account_country": {
            "type": ["string", "null"]
          },
          "account_name": {
            "type": ["string", "null"]
          },
          "account_tax_ids": {
            "type": ["array", "null"]
          },
          "amount_due": {
            "type": "integer",
            "description": "Amount in cents due after discounts and tax"
          },
          "amount_paid": {
            "type": "integer",
            "description": "Amount in cents already paid"
          },
          "amount_remaining": {
            "type": "integer",
            "description": "Amount in cents remaining to be paid"
          },
          "application": {
            "type": ["string", "null"]
          },
          "application_fee_amount": {
            "type": ["integer", "null"]
          },
          "attempt_count": {
            "type": "integer",
            "description": "Number of payment attempts"
          },
          "attempted": {
            "type": "boolean",
            "description": "Whether payment was attempted"
          },
          "auto_advance": {
            "type": ["boolean", "null"],
            "description": "Whether to automatically finalize"
          },
          "automatic_tax": {
            "type": "object",
            "properties": {
              "enabled": {"type": "boolean"},
              "status": {"type": ["string", "null"]}
            }
          },
          "billing_reason": {
            "type": ["string", "null"],
            "enum": ["subscription_cycle", "subscription_create", "subscription_update", "subscription", "manual", "upcoming", "subscription_threshold", "automatic_pending_invoice_item_invoice", null]
          },
          "charge": {
            "type": ["string", "null"],
            "description": "ID of the latest charge"
          },
          "collection_method": {
            "type": "string",
            "enum": ["charge_automatically", "send_invoice"],
            "description": "How payment is collected"
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "custom_fields": {
            "type": ["array", "null"]
          },
          "customer": {
            "type": ["string", "null"],
            "description": "Customer ID"
          },
          "customer_address": {
            "oneOf": [
              {"$ref": "#/definitions/common/Address"},
              {"type": "null"}
            ]
          },
          "customer_email": {
            "type": ["string", "null"]
          },
          "customer_name": {
            "type": ["string", "null"]
          },
          "customer_phone": {
            "type": ["string", "null"]
          },
          "customer_shipping": {
            "oneOf": [
              {"$ref": "#/definitions/customer/ShippingDetails"},
              {"type": "null"}
            ]
          },
          "customer_tax_exempt": {
            "type": ["string", "null"],
            "enum": ["none", "exempt", "reverse", null]
          },
          "customer_tax_ids": {
            "type": ["array", "null"]
          },
          "default_payment_method": {
            "type": ["string", "null"]
          },
          "default_source": {
            "type": ["string", "null"]
          },
          "default_tax_rates": {
            "type": "array"
          },
          "description": {
            "type": ["string", "null"]
          },
          "discount": {
            "oneOf": [
              {"$ref": "#/definitions/customer/Discount"},
              {"type": "null"}
            ]
          },
          "discounts": {
            "type": ["array", "null"]
          },
          "due_date": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "ending_balance": {
            "type": ["integer", "null"]
          },
          "footer": {
            "type": ["string", "null"]
          },
          "hosted_invoice_url": {
            "type": ["string", "null"],
            "description": "URL for hosted invoice page"
          },
          "invoice_pdf": {
            "type": ["string", "null"],
            "description": "URL for PDF version"
          },
          "lines": {
            "type": "object",
            "description": "Line items on the invoice"
          },
          "livemode": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "next_payment_attempt": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "number": {
            "type": ["string", "null"],
            "description": "Invoice number"
          },
          "paid": {
            "type": "boolean",
            "description": "Whether the invoice has been paid"
          },
          "paid_out_of_band": {
            "type": "boolean"
          },
          "payment_intent": {
            "type": ["string", "null"]
          },
          "payment_settings": {
            "type": "object"
          },
          "period_end": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "period_start": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "post_payment_credit_notes_amount": {
            "type": "integer"
          },
          "pre_payment_credit_notes_amount": {
            "type": "integer"
          },
          "quote": {
            "type": ["string", "null"]
          },
          "receipt_number": {
            "type": ["string", "null"]
          },
          "starting_balance": {
            "type": "integer"
          },
          "statement_descriptor": {
            "type": ["string", "null"]
          },
          "status": {
            "type": ["string", "null"],
            "enum": ["draft", "open", "paid", "uncollectible", "void", null],
            "description": "Invoice status"
          },
          "status_transitions": {
            "type": "object",
            "properties": {
              "finalized_at": {"oneOf": [{"$ref": "#/definitions/common/Timestamp"}, {"type": "null"}]},
              "marked_uncollectible_at": {"oneOf": [{"$ref": "#/definitions/common/Timestamp"}, {"type": "null"}]},
              "paid_at": {"oneOf": [{"$ref": "#/definitions/common/Timestamp"}, {"type": "null"}]},
              "voided_at": {"oneOf": [{"$ref": "#/definitions/common/Timestamp"}, {"type": "null"}]}
            }
          },
          "subscription": {
            "type": ["string", "null"]
          },
          "subtotal": {
            "type": "integer",
            "description": "Subtotal before discounts/tax in cents"
          },
          "subtotal_excluding_tax": {
            "type": ["integer", "null"]
          },
          "tax": {
            "type": ["integer", "null"],
            "description": "Tax amount in cents"
          },
          "test_clock": {
            "type": ["string", "null"]
          },
          "total": {
            "type": "integer",
            "description": "Total amount in cents"
          },
          "total_discount_amounts": {
            "type": ["array", "null"]
          },
          "total_excluding_tax": {
            "type": ["integer", "null"]
          },
          "total_tax_amounts": {
            "type": "array"
          },
          "transfer_data": {
            "type": ["object", "null"]
          },
          "webhooks_delivered_at": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          }
        },
        "required": ["id", "object", "amount_due", "amount_paid", "amount_remaining", "attempt_count", "attempted", "collection_method", "created", "currency", "livemode", "paid", "period_end", "period_start", "subtotal", "total"]
      },
      "InvoiceItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the invoice item"
          },
          "object": {
            "type": "string",
            "enum": ["invoiceitem"]
          },
          "amount": {
            "type": "integer",
            "description": "Amount in cents"
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "customer": {
            "type": "string",
            "description": "Customer ID"
          },
          "date": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "description": {
            "type": ["string", "null"]
          },
          "discountable": {
            "type": "boolean"
          },
          "discounts": {
            "type": ["array", "null"]
          },
          "invoice": {
            "type": ["string", "null"],
            "description": "Invoice ID this item belongs to"
          },
          "livemode": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "period": {
            "type": "object",
            "properties": {
              "end": {"$ref": "#/definitions/common/Timestamp"},
              "start": {"$ref": "#/definitions/common/Timestamp"}
            }
          },
          "price": {
            "oneOf": [
              {"$ref": "#/definitions/price/Price"},
              {"type": "null"}
            ]
          },
          "proration": {
            "type": "boolean"
          },
          "quantity": {
            "type": "integer"
          },
          "subscription": {
            "type": ["string", "null"]
          },
          "tax_rates": {
            "type": ["array", "null"]
          },
          "test_clock": {
            "type": ["string", "null"]
          },
          "unit_amount": {
            "type": ["integer", "null"]
          },
          "unit_amount_decimal": {
            "type": ["string", "null"]
          }
        },
        "required": ["id", "object", "amount", "currency", "customer", "date", "livemode", "proration"]
      }
    },
    "payment_link": {
      "PaymentLink": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the payment link"
          },
          "object": {
            "type": "string",
            "enum": ["payment_link"]
          },
          "active": {
            "type": "boolean",
            "description": "Whether the payment link is active"
          },
          "after_completion": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["redirect", "hosted_confirmation"]
              },
              "redirect": {
                "type": ["object", "null"],
                "properties": {
                  "url": {"type": "string"}
                }
              },
              "hosted_confirmation": {
                "type": ["object", "null"],
                "properties": {
                  "custom_message": {"type": ["string", "null"]}
                }
              }
            }
          },
          "allow_promotion_codes": {
            "type": "boolean"
          },
          "application": {
            "type": ["string", "null"]
          },
          "application_fee_amount": {
            "type": ["integer", "null"]
          },
          "application_fee_percent": {
            "type": ["number", "null"]
          },
          "automatic_tax": {
            "type": "object",
            "properties": {
              "enabled": {"type": "boolean"}
            }
          },
          "billing_address_collection": {
            "type": "string",
            "enum": ["auto", "required"]
          },
          "consent_collection": {
            "type": ["object", "null"]
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "custom_fields": {
            "type": "array"
          },
          "custom_text": {
            "type": "object"
          },
          "customer_creation": {
            "type": "string",
            "enum": ["always", "if_required"]
          },
          "invoice_creation": {
            "type": ["object", "null"]
          },
          "line_items": {
            "type": "object",
            "description": "Line items for this payment link"
          },
          "livemode": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "on_behalf_of": {
            "type": ["string", "null"]
          },
          "payment_intent_data": {
            "type": ["object", "null"]
          },
          "payment_method_collection": {
            "type": "string",
            "enum": ["always", "if_required"]
          },
          "payment_method_types": {
            "type": ["array", "null"],
            "items": {"type": "string"}
          },
          "phone_number_collection": {
            "type": "object",
            "properties": {
              "enabled": {"type": "boolean"}
            }
          },
          "shipping_address_collection": {
            "type": ["object", "null"]
          },
          "shipping_options": {
            "type": "array"
          },
          "submit_type": {
            "type": "string",
            "enum": ["auto", "book", "donate", "pay"]
          },
          "subscription_data": {
            "type": ["object", "null"]
          },
          "tax_id_collection": {
            "type": "object",
            "properties": {
              "enabled": {"type": "boolean"}
            }
          },
          "transfer_data": {
            "type": ["object", "null"]
          },
          "url": {
            "type": "string",
            "description": "Public URL for the payment link"
          }
        },
        "required": ["id", "object", "active", "livemode", "url"]
      }
    },
    "payment_intent": {
      "PaymentIntent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the PaymentIntent"
          },
          "object": {
            "type": "string",
            "enum": ["payment_intent"]
          },
          "amount": {
            "type": "integer",
            "description": "Amount in cents"
          },
          "amount_capturable": {
            "type": "integer"
          },
          "amount_details": {
            "type": "object"
          },
          "amount_received": {
            "type": "integer"
          },
          "application": {
            "type": ["string", "null"]
          },
          "application_fee_amount": {
            "type": ["integer", "null"]
          },
          "automatic_payment_methods": {
            "type": ["object", "null"]
          },
          "canceled_at": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "cancellation_reason": {
            "type": ["string", "null"],
            "enum": ["duplicate", "fraudulent", "requested_by_customer", "abandoned", null]
          },
          "capture_method": {
            "type": "string",
            "enum": ["automatic", "automatic_async", "manual"]
          },
          "charges": {
            "type": "object",
            "description": "List of charges"
          },
          "client_secret": {
            "type": ["string", "null"],
            "description": "Secret for client-side confirmation"
          },
          "confirmation_method": {
            "type": "string",
            "enum": ["automatic", "manual"]
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "customer": {
            "type": ["string", "null"]
          },
          "description": {
            "type": ["string", "null"]
          },
          "invoice": {
            "type": ["string", "null"]
          },
          "last_payment_error": {
            "type": ["object", "null"]
          },
          "latest_charge": {
            "type": ["string", "null"]
          },
          "livemode": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "next_action": {
            "type": ["object", "null"]
          },
          "on_behalf_of": {
            "type": ["string", "null"]
          },
          "payment_method": {
            "type": ["string", "null"]
          },
          "payment_method_options": {
            "type": ["object", "null"]
          },
          "payment_method_types": {
            "type": "array",
            "items": {"type": "string"}
          },
          "processing": {
            "type": ["object", "null"]
          },
          "receipt_email": {
            "type": ["string", "null"]
          },
          "review": {
            "type": ["string", "null"]
          },
          "setup_future_usage": {
            "type": ["string", "null"],
            "enum": ["on_session", "off_session", null]
          },
          "shipping": {
            "oneOf": [
              {"$ref": "#/definitions/customer/ShippingDetails"},
              {"type": "null"}
            ]
          },
          "statement_descriptor": {
            "type": ["string", "null"]
          },
          "statement_descriptor_suffix": {
            "type": ["string", "null"]
          },
          "status": {
            "type": "string",
            "enum": ["requires_payment_method", "requires_confirmation", "requires_action", "processing", "requires_capture", "canceled", "succeeded"],
            "description": "Status of the PaymentIntent"
          },
          "transfer_data": {
            "type": ["object", "null"]
          },
          "transfer_group": {
            "type": ["string", "null"]
          }
        },
        "required": ["id", "object", "amount", "currency", "created", "livemode", "status"]
      }
    },
    "price": {
      "Price": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the price"
          },
          "object": {
            "type": "string",
            "enum": ["price"]
          },
          "active": {
            "type": "boolean",
            "description": "Whether the price can be used"
          },
          "billing_scheme": {
            "type": "string",
            "enum": ["per_unit", "tiered"]
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "currency_options": {
            "type": ["object", "null"]
          },
          "custom_unit_amount": {
            "type": ["object", "null"],
            "properties": {
              "maximum": {"type": ["integer", "null"]},
              "minimum": {"type": ["integer", "null"]},
              "preset": {"type": ["integer", "null"]}
            }
          },
          "livemode": {
            "type": "boolean"
          },
          "lookup_key": {
            "type": ["string", "null"]
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "nickname": {
            "type": ["string", "null"]
          },
          "product": {
            "type": "string",
            "description": "Product ID"
          },
          "recurring": {
            "type": ["object", "null"],
            "properties": {
              "aggregate_usage": {
                "type": ["string", "null"],
                "enum": ["sum", "last_during_period", "last_ever", "max", null]
              },
              "interval": {
                "type": "string",
                "enum": ["day", "week", "month", "year"]
              },
              "interval_count": {
                "type": "integer"
              },
              "trial_period_days": {
                "type": ["integer", "null"]
              },
              "usage_type": {
                "type": "string",
                "enum": ["metered", "licensed"]
              }
            }
          },
          "tax_behavior": {
            "type": ["string", "null"],
            "enum": ["exclusive", "inclusive", "unspecified", null]
          },
          "tiers": {
            "type": ["array", "null"]
          },
          "tiers_mode": {
            "type": ["string", "null"],
            "enum": ["graduated", "volume", null]
          },
          "transform_quantity": {
            "type": ["object", "null"]
          },
          "type": {
            "type": "string",
            "enum": ["one_time", "recurring"]
          },
          "unit_amount": {
            "type": ["integer", "null"],
            "description": "Price in cents"
          },
          "unit_amount_decimal": {
            "type": ["string", "null"]
          }
        },
        "required": ["id", "object", "active", "billing_scheme", "created", "currency", "livemode", "product", "type"]
      }
    },
    "product": {
      "Product": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the product"
          },
          "object": {
            "type": "string",
            "enum": ["product"]
          },
          "active": {
            "type": "boolean",
            "description": "Whether product is available for purchase"
          },
          "attributes": {
            "type": ["array", "null"]
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "default_price": {
            "type": ["string", "null"],
            "description": "Default price ID"
          },
          "description": {
            "type": ["string", "null"]
          },
          "features": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {"type": "string"}
              }
            }
          },
          "images": {
            "type": "array",
            "items": {"type": "string"},
            "description": "List of image URLs"
          },
          "livemode": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "name": {
            "type": "string",
            "description": "Product name"
          },
          "package_dimensions": {
            "type": ["object", "null"],
            "properties": {
              "height": {"type": "number"},
              "length": {"type": "number"},
              "weight": {"type": "number"},
              "width": {"type": "number"}
            }
          },
          "shippable": {
            "type": ["boolean", "null"]
          },
          "statement_descriptor": {
            "type": ["string", "null"]
          },
          "tax_code": {
            "type": ["string", "null"]
          },
          "type": {
            "type": "string",
            "enum": ["good", "service"]
          },
          "unit_label": {
            "type": ["string", "null"]
          },
          "updated": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "url": {
            "type": ["string", "null"]
          }
        },
        "required": ["id", "object", "active", "created", "livemode", "name", "type", "updated"]
      }
    },
    "refund": {
      "Refund": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the refund"
          },
          "object": {
            "type": "string",
            "enum": ["refund"]
          },
          "amount": {
            "type": "integer",
            "description": "Amount refunded in cents"
          },
          "balance_transaction": {
            "type": ["string", "null"]
          },
          "charge": {
            "type": ["string", "null"],
            "description": "Charge ID"
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "destination_details": {
            "type": ["object", "null"]
          },
          "failure_balance_transaction": {
            "type": ["string", "null"]
          },
          "failure_reason": {
            "type": ["string", "null"]
          },
          "instructions_email": {
            "type": ["string", "null"]
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "next_action": {
            "type": ["object", "null"]
          },
          "payment_intent": {
            "type": ["string", "null"]
          },
          "reason": {
            "type": ["string", "null"],
            "enum": ["duplicate", "fraudulent", "requested_by_customer", "expired_uncaptured_charge", null]
          },
          "receipt_number": {
            "type": ["string", "null"]
          },
          "source_transfer_reversal": {
            "type": ["string", "null"]
          },
          "status": {
            "type": ["string", "null"],
            "enum": ["pending", "succeeded", "failed", "canceled", null]
          },
          "transfer_reversal": {
            "type": ["string", "null"]
          }
        },
        "required": ["id", "object", "amount", "created", "currency"]
      }
    },
    "subscription": {
      "Subscription": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the subscription"
          },
          "object": {
            "type": "string",
            "enum": ["subscription"]
          },
          "application": {
            "type": ["string", "null"]
          },
          "application_fee_percent": {
            "type": ["number", "null"]
          },
          "automatic_tax": {
            "type": "object",
            "properties": {
              "enabled": {"type": "boolean"}
            }
          },
          "billing_cycle_anchor": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "billing_thresholds": {
            "type": ["object", "null"]
          },
          "cancel_at": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "cancel_at_period_end": {
            "type": "boolean",
            "description": "Whether subscription will cancel at period end"
          },
          "canceled_at": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "cancellation_details": {
            "type": ["object", "null"],
            "properties": {
              "comment": {"type": ["string", "null"]},
              "feedback": {"type": ["string", "null"]},
              "reason": {"type": ["string", "null"]}
            }
          },
          "collection_method": {
            "type": "string",
            "enum": ["charge_automatically", "send_invoice"]
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "currency": {
            "$ref": "#/definitions/common/Currency"
          },
          "current_period_end": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "current_period_start": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "customer": {
            "type": "string",
            "description": "Customer ID"
          },
          "days_until_due": {
            "type": ["integer", "null"]
          },
          "default_payment_method": {
            "type": ["string", "null"]
          },
          "default_source": {
            "type": ["string", "null"]
          },
          "default_tax_rates": {
            "type": ["array", "null"]
          },
          "description": {
            "type": ["string", "null"]
          },
          "discount": {
            "oneOf": [
              {"$ref": "#/definitions/customer/Discount"},
              {"type": "null"}
            ]
          },
          "discounts": {
            "type": ["array", "null"]
          },
          "ended_at": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "items": {
            "type": "object",
            "description": "Subscription items",
            "properties": {
              "object": {"type": "string", "enum": ["list"]},
              "data": {
                "type": "array",
                "items": {"$ref": "#/definitions/subscription/SubscriptionItem"}
              },
              "has_more": {"type": "boolean"},
              "url": {"type": "string"}
            }
          },
          "latest_invoice": {
            "type": ["string", "null"]
          },
          "livemode": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "next_pending_invoice_item_invoice": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "on_behalf_of": {
            "type": ["string", "null"]
          },
          "pause_collection": {
            "type": ["object", "null"]
          },
          "payment_settings": {
            "type": ["object", "null"]
          },
          "pending_invoice_item_interval": {
            "type": ["object", "null"]
          },
          "pending_setup_intent": {
            "type": ["string", "null"]
          },
          "pending_update": {
            "type": ["object", "null"]
          },
          "schedule": {
            "type": ["string", "null"]
          },
          "start_date": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "status": {
            "type": "string",
            "enum": ["incomplete", "incomplete_expired", "trialing", "active", "past_due", "canceled", "unpaid", "paused"],
            "description": "Subscription status"
          },
          "test_clock": {
            "type": ["string", "null"]
          },
          "transfer_data": {
            "type": ["object", "null"]
          },
          "trial_end": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          },
          "trial_settings": {
            "type": ["object", "null"]
          },
          "trial_start": {
            "oneOf": [
              {"$ref": "#/definitions/common/Timestamp"},
              {"type": "null"}
            ]
          }
        },
        "required": ["id", "object", "billing_cycle_anchor", "cancel_at_period_end", "collection_method", "created", "currency", "current_period_end", "current_period_start", "customer", "items", "livemode", "start_date", "status"]
      },
      "SubscriptionItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "object": {
            "type": "string",
            "enum": ["subscription_item"]
          },
          "billing_thresholds": {
            "type": ["object", "null"]
          },
          "created": {
            "$ref": "#/definitions/common/Timestamp"
          },
          "metadata": {
            "$ref": "#/definitions/common/Metadata"
          },
          "price": {
            "$ref": "#/definitions/price/Price"
          },
          "quantity": {
            "type": "integer"
          },
          "subscription": {
            "type": "string"
          },
          "tax_rates": {
            "type": ["array", "null"]
          }
        },
        "required": ["id", "object", "created", "price", "subscription"]
      }
    },
    "search": {
      "SearchResult": {
        "type": "object",
        "properties": {
          "object": {
            "type": "string",
            "enum": ["search_result"]
          },
          "data": {
            "type": "array",
            "description": "Array of matching objects"
          },
          "has_more": {
            "type": "boolean"
          },
          "next_page": {
            "type": ["string", "null"]
          },
          "total_count": {
            "type": "integer",
            "description": "Total number of matching results"
          },
          "url": {
            "type": "string"
          }
        },
        "required": ["object", "data", "has_more", "url"]
      }
    }
  }
}
